(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/my/myInfo"],{"02b5":function(a,t,e){"use strict";(function(a){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e={data:function(){return{username:"",name:"",invitation_code:"",bankname:"",bankcard:"",password:"",index:0,bankname_list:[]}},onLoad:function(){var t=this,e=this.getGlobalAccessToken();null!=e&&a.request({url:this.serverUrl+"user-info",header:{Authorization:e,Accept:"application/json"},method:"GET",success:function(e){200==e.data.code?(t.bankname_list=e.data.data.bankname_list,t.username=e.data.data.username,t.name=e.data.data.name?e.data.data.name:"",t.invitation_code=e.data.data.invitation_code,t.bankcard=e.data.data.bank_card?e.data.data.bank_card:"",t.bankname=e.data.data.bank_name?e.data.data.bank_name:"",t.findIndex()):429==e.data.code?a.showToast({title:e.data.message,image:"../../static/icons/warning.png"}):a.showModal({title:"未登录",content:"您未登录，需要登录后才能继续",showCancel:!1,success:function(t){t.confirm&&a.reLaunch({url:"../registLogin/registLogin"})}})}})},methods:{banknameSelect:function(a){this.index=a.detail.value},findIndex:function(){var a=this;this.bankname_list.forEach(function(t,e){a.bankname==t&&(a.index=e)})},updateName:function(){var t=this.getGlobalAccessToken(),e=this,n=e.serverUrl;a.request({url:n+"update-name",header:{Authorization:t,Accept:"application/json"},data:{name:e.name},method:"POST",success:function(t){200==t.data.code?a.showToast({title:t.data.message,image:"../../static/icons/success.png"}):422==t.data.code&&a.showToast({title:t.data.message,image:"../../static/icons/warning.png"})}})},updatePassword:function(){var t=this,e=this.getGlobalAccessToken(),n=this,s=n.serverUrl;a.request({url:s+"update-password",header:{Authorization:e,Accept:"application/json"},data:{password:n.password},method:"POST",success:function(e){200==e.data.code?(t.password="",a.showToast({title:e.data.message,image:"../../static/icons/success.png"})):422==e.data.code&&a.showToast({title:e.data.message,image:"../../static/icons/warning.png"})}})},updateBankname:function(){var t=this.getGlobalAccessToken(),e=this,n=e.serverUrl;a.request({url:n+"update-bankname",header:{Authorization:t,Accept:"application/json"},data:{bankname:this.bankname_list[this.index]},method:"POST",success:function(t){200==t.data.code?a.showToast({title:t.data.message,image:"../../static/icons/success.png"}):422==t.data.code&&a.showToast({title:t.data.message,image:"../../static/icons/warning.png"})}})},updateBankcard:function(){var t=this.getGlobalAccessToken(),e=this,n=e.serverUrl;a.request({url:n+"update-bankcard",header:{Authorization:t,Accept:"application/json"},data:{bankcard:e.bankcard},method:"POST",success:function(t){200==t.data.code?a.showToast({title:t.data.message,image:"../../static/icons/success.png"}):422==t.data.code&&a.showToast({title:t.data.message,image:"../../static/icons/warning.png"})}})}}};t.default=e}).call(this,e("6e42")["default"])},"3f7c":function(a,t,e){},"4f7a":function(a,t,e){"use strict";e.r(t);var n=e("02b5"),s=e.n(n);for(var i in n)"default"!==i&&function(a){e.d(t,a,function(){return n[a]})}(i);t["default"]=s.a},"5d4d":function(a,t,e){"use strict";var n=function(){var a=this,t=a.$createElement;a._self._c},s=[];e.d(t,"a",function(){return n}),e.d(t,"b",function(){return s})},b1e7:function(a,t,e){"use strict";(function(a){e("d058"),e("921b");n(e("66fd"));var t=n(e("d9ca"));function n(a){return a&&a.__esModule?a:{default:a}}a(t.default)}).call(this,e("6e42")["createPage"])},d9ca:function(a,t,e){"use strict";e.r(t);var n=e("5d4d"),s=e("4f7a");for(var i in s)"default"!==i&&function(a){e.d(t,a,function(){return s[a]})}(i);e("f7c7");var c=e("2877"),o=Object(c["a"])(s["default"],n["a"],n["b"],!1,null,null,null);t["default"]=o.exports},f7c7:function(a,t,e){"use strict";var n=e("3f7c"),s=e.n(n);s.a}},[["b1e7","common/runtime","common/vendor"]]]);